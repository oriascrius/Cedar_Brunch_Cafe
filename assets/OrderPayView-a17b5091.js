import{_ as v,c as l,b as s,J as m,t as o,e as g,F as y,A as w,d as O,w as j,r as E,o as a}from"./index-4f005452.js";const{VITE_API:f,VITE_PATH:b}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"qoqvuedemo",BASE_URL:"/Cedar_Brunch_Cafe/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{order:{products:[],user:{}}}},methods:{getOrder(){this.$http.get(`${f}api/${b}/order/${this.orderId}`).then(i=>{const{order:t}=i.data;this.order=t}).catch(i=>{var d,c;const t=((c=(d=i.response)==null?void 0:d.data)==null?void 0:c.message)||"資料錯誤";this.$swal.fire({toast:!0,position:"top",icon:"error",title:`${t}`,showConfirmButton:!1,timer:1500})})},payOrder(){this.$http.post(`${f}api/${b}/pay/${this.orderId}`).then(()=>{this.getOrder()}).catch(i=>{var d,c;const t=((c=(d=i.response)==null?void 0:d.data)==null?void 0:c.message)||"資料錯誤";this.$swal.fire({toast:!0,position:"top",icon:"error",title:`${t}`,showConfirmButton:!1,timer:1500})})}},mounted(){this.orderId=this.$route.params.orderId,this.getOrder()}},V={class:"container"},B={class:"row"},C={class:"col-md-6 text-custom_medium-green"},$={class:"card rounded-0 py-4 mb-3"},A=s("div",{class:"card-header border-0 bg-white px-4 py-0 text-custom_medium-green"},[s("h3",{class:"fw-bold h4"},"訂單資訊")],-1),P={class:"card-body px-4py-0"},k={class:"list-group list-group-flush px-3"},I={class:"list-group-item px-0"},M={class:"d-flex mt-2"},S={class:"w-100 d-flex flex-column text-custom_medium-green"},D={class:"d-flex justify-content-between"},N=s("p",{class:"mb-0"},"Email",-1),q={class:"d-flex justify-content-between"},F=s("p",{class:"mb-0"},"姓名",-1),H={class:"d-flex justify-content-between"},L=s("p",{class:"mb-0"},"電話",-1),R={class:"d-flex justify-content-between"},U=s("p",{class:"mb-0"},"地址",-1),z={class:""},J={class:"d-flex justify-content-between"},G=s("p",{class:"mb-0"},"付款狀態",-1),K={class:"col-md-6 text-custom_medium-green"},Q={class:"card rounded-0 py-4 mb-3"},W=s("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[s("h3",{class:"fw-bold h4"},"訂單內容")],-1),X={class:"card-body px-4 py-0"},Y={class:"list-group list-group-flush"},Z={class:"d-flex mt-2 text-custom_medium-green"},ss=["src","alt"],ts={class:"w-100 d-flex flex-column"},es={class:"d-flex justify-content-between fw-bold"},os={class:"d-flex justify-content-between mt-auto"},rs={class:"mb-0"},is={class:"mb-0"},ds={class:"list-group-item px-0 pb-0 text-custom_medium-green"},cs={class:"d-flex justify-content-between mt-2"},ns=s("p",{class:"mb-0 h4"},"總計",-1),ls={class:"mb-0 h4"},as=s("div",{class:"text-end mt-4"},[s("button",{type:"button",class:"btn btn-custom_btn-color text-white"},"確認付款")],-1);function _s(i,t,d,c,r,n){const x=E("router-link");return a(),l("div",V,[s("div",B,[s("div",C,[s("form",{onSubmit:t[0]||(t[0]=m((...e)=>n.payOrder&&n.payOrder(...e),["prevent"]))},[s("div",$,[A,s("div",P,[s("ul",k,[s("li",I,[s("div",M,[s("div",S,[s("div",D,[N,s("p",null,o(r.order.user.email),1)]),s("div",q,[F,s("p",null,o(r.order.user.name),1)]),s("div",H,[L,s("p",null,o(r.order.user.tel),1)]),s("div",R,[U,s("p",z,o(r.order.user.address),1)]),s("div",J,[G,s("p",{class:g({"text-success":r.order.is_paid})},o(r.order.is_paid?"付款完成":"尚未付款"),3)])])])])])])])],32)]),s("div",K,[s("form",{onSubmit:t[1]||(t[1]=m((...e)=>n.payOrder&&n.payOrder(...e),["prevent"]))},[s("div",Q,[W,s("div",X,[s("ul",Y,[(a(!0),l(y,null,w(r.order.products,e=>{var _,u,h,p;return a(),l("li",{key:e.id,class:"list-group-item px-0"},[s("div",Z,[s("img",{src:(_=e.product)==null?void 0:_.imageUrl,alt:(u=e.product)==null?void 0:u.title,class:"me-2",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,ss),s("div",ts,[s("div",es,[s("h5",null,o((h=e.product)==null?void 0:h.title),1)]),s("div",os,[s("p",rs,[s("small",null,"x"+o(e.qty),1)]),s("p",is,"NT$ "+o((p=e.product)==null?void 0:p.price),1)])])])])}),128)),s("li",ds,[s("div",cs,[ns,s("p",ls,"NT$ "+o(Math.floor(r.order.total)),1)])])])])]),O(x,{to:"/orderSuccess"},{default:j(()=>[as]),_:1})],32)])])])}const hs=v(T,[["render",_s]]);export{hs as default};
